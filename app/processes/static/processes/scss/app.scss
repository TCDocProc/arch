@import "settings";
@import url(http://fonts.googleapis.com/css?family=Lato:700);

@mixin keyframes($animation-name) {

    @-webkit-keyframes #{$animation-name} {
        @content;
    }
    @-moz-keyframes #{$animation-name} {
        @content;
    }
    @-ms-keyframes #{$animation-name} {
        @content;
    }
    @-o-keyframes #{$animation-name} {
        @content;
    }
    @keyframes #{$animation-name} {
        @content;
    }
}

@mixin animation($str) {
    -webkit-animation: #{$str};
    -moz-animation: #{$str};
    -ms-animation: #{$str};
    -o-animation: #{$str};
    animation: #{$str};
}

$card-margin: 10px;
$cell-margin: 3px;

.content {
    padding: 0;
    height: 600px;
    background-color: #ECF0F1;
    font-family: "Lato";
}

.sequence {

    @for $i from 1 through 10 {
        &:first-child:nth-last-child(#{$i}),
        &:first-child:nth-last-child(#{$i}) ~ & {
            width: calc(100% / #{$i})
        }
    }

    display: inline-block;
    vertical-align: top;
    height: 100% !important;

    .focused > & {
        margin: $card-margin;
        height: calc(100% - 2 * #{$card-margin}) !important;
        width: calc(100% - 5 * #{$card-margin}) !important;
    }

    &.fill {
        margin: 0;
        width: 100% !important;
    }

    &.hidden {
        margin: 0;
        width: 0 !important;
        display: none;
    }
}

.cell {

    @for $i from 1 through 10 {
        &:first-child:nth-last-child(#{$i}),
        &:first-child:nth-last-child(#{$i}) ~ & {
            height: calc(100% / #{$i} - 2 * #{$cell-margin})
        }
    }

    display: block;

    .focused > .sequence > & {
        min-height: 180px;
    }

    &.branch {

        overflow-x: scroll;
        white-space: nowrap;

        padding: 5px;

        &.focused {
            height: 100% !important;
            padding: 0;
        }

    }

    &.action {

        overflow: hidden;
        margin: $cell-margin;
        border-radius: 5px;
        text-weight: bold;
        white-space: normal;

        .fill > & {
            height: auto !important;
        }

        h1 {
            display: none;
            text-transform: uppercase;
            margin-bottom: 20px;

            .focused > .sequence > .branch > .sequence > & {
                font-size: 16px;
                padding: 0 15px;
                display: inline-block;
            }

            .focused > .sequence > & {
                font-size: 32px !important;
                padding: 0 30px !important;
                display: inline-block;
            }

        }

        p {
            display: none;
            margin: 0;

            .fill > & {
                padding: 0 30px !important;
                padding-bottom: 20px !important;
                display: inline-block !important;
            }
        }

        &.READY, &.AVAILABLE {
            background-color: #14B259;
        }

        &.ACTIVE {
            background-color: #14B259;
            border: 5px solid #398CBF;

            @include keyframes(glow) {
                0% { border: 5px solid #398CBF; }
                90% { border: 5px solid #14B259; }
            }
            @include animation('glow 1s infinite');
        }

        &.BLOCKED, &.SUSPENDED {
            background-color: #E8142A;
        }

        &.DONE, &.SATISFIED {
            background-color: #6FBB84;
        }

        &.NONE {
            background-color: #7F8C8D;
        }
    }

    &.hidden {
        height: 0 !important;
        display: none;
    }
}
